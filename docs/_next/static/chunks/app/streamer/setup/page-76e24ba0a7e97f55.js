(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{5066:function(e,t,a){Promise.resolve().then(a.bind(a,8667))},8667:function(e,t,a){"use strict";a.d(t,{StreamerObsSetup:function(){return o}});var n=a(2657),s=a(374),r=a(3639),i=a(4094),l=a(9927);function o(){let{state:e,setState:t}=(0,l.xA)(),[a,o]=(0,s.useState)("drag-drop"),[d,c]=(0,s.useState)("idle"),[m,u]=(0,s.useState)("idle"),p=(0,s.useMemo)(()=>{var e;return null!==(e=i.$h.find(e=>e.id===a))&&void 0!==e?e:i.$h[0]},[a]),x=async()=>{if("undefined"==typeof navigator||!navigator.clipboard){u("unavailable");return}await navigator.clipboard.writeText(i.yA),u("copied")};return(0,n.jsxs)("main",{className:"space-y-6",children:[(0,n.jsx)("section",{className:"streamer-surface-card streamer-beta-grid rounded-3xl p-6 md:p-8",children:(0,n.jsxs)("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_340px]",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"streamer-surface-chip inline-flex rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em]",children:"Streaming code"}),(0,n.jsx)("h1",{className:"mt-3 font-[family-name:var(--font-heading)] text-5xl font-semibold tracking-tight text-slate-50",children:"OBS setup"}),(0,n.jsx)("p",{className:"mt-3 max-w-2xl text-base leading-relaxed text-slate-300",children:"Configure one browser source and keep it enabled across scenes. After setup, run the test animation to verify visibility."})]}),(0,n.jsxs)("div",{className:"grid gap-3",children:[(0,n.jsxs)("article",{className:"streamer-outline-card rounded-2xl p-4",children:[(0,n.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-cyan-300",children:"Display test animation"}),(0,n.jsx)("p",{className:"mt-2 text-sm leading-relaxed text-slate-300",children:"Open OBS, then run the test animation and confirm it appears in every live scene."}),(0,n.jsx)("button",{type:"button",onClick:()=>{let e="idle"===d?"running":"running"===d?"visible":"idle";if(c(e),"visible"===e){t(e=>({...e,setupCompleted:!0,overlayConnected:!0,lastTestRunAt:new Date().toISOString()}));return}if("idle"===e){t(e=>({...e,overlayConnected:!1}));return}t(e=>({...e,overlayConnected:!1}))},className:"streamer-primary-btn mt-4 rounded-lg px-4 py-2 text-sm font-semibold text-white transition","aria-label":"Run test animation",disabled:!e.providerConnected,children:"Run test animation"}),(0,n.jsxs)("p",{className:"mt-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:["Status:"," ",(0,n.jsx)("span",{className:"text-cyan-200","data-testid":"obs-test-status",children:d})]})]}),(0,n.jsxs)("article",{className:"streamer-outline-card rounded-2xl p-4",children:[(0,n.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-cyan-300",children:"Connection status"}),(0,n.jsx)("p",{className:"mt-2 text-sm text-slate-300",children:"Link in streaming software:"}),(0,n.jsx)("span",{"data-testid":"obs-connection-status",className:"mt-2 inline-flex rounded-full px-2 py-1 text-xs font-semibold uppercase tracking-wide ".concat(e.overlayConnected?"bg-emerald-500/20 text-emerald-200":"bg-rose-500/20 text-rose-200"),children:e.overlayConnected?"active":"inactive"}),e.lastTestRunAt?(0,n.jsxs)("p",{className:"mt-2 text-xs text-slate-400",children:["Last test: ",new Date(e.lastTestRunAt).toLocaleString("en-US",{timeZone:"UTC"})," UTC"]}):null]})]})]})}),e.providerConnected?null:(0,n.jsxs)("div",{className:"rounded-2xl border border-amber-300/35 bg-amber-500/10 px-4 py-3 text-sm text-amber-200 shadow-sm",children:["Connect Twitch before running setup actions.",(0,n.jsx)(r.default,{href:"/streamer/login",className:"ml-2 font-semibold underline",children:"Go to login"})]}),(0,n.jsxs)("section",{className:"streamer-surface-card rounded-3xl p-6",children:[(0,n.jsx)("div",{className:"flex flex-wrap gap-2 border-b border-slate-700/60 pb-3",children:i.$h.map(e=>(0,n.jsx)("button",{type:"button",onClick:()=>o(e.id),className:"streamer-tab-btn rounded-lg px-3 py-2 text-sm font-semibold transition ".concat(e.id===a?"streamer-tab-btn-active":""),"data-testid":"setup-tab-".concat(e.id),children:e.label},e.id))}),(0,n.jsxs)("div",{className:"mt-5 grid gap-4 xl:grid-cols-[minmax(0,1fr)_340px]",children:[(0,n.jsxs)("article",{children:[(0,n.jsx)("h2",{className:"font-[family-name:var(--font-heading)] text-3xl font-semibold tracking-tight text-slate-50",children:p.title}),(0,n.jsx)("p",{className:"mt-2 text-sm leading-relaxed text-slate-300",children:p.intro}),(0,n.jsx)("ul",{className:"mt-4 space-y-2",children:p.steps.map(e=>(0,n.jsx)("li",{className:"rounded-xl border border-slate-700 bg-slate-950/55 px-3 py-2 text-sm text-slate-200",children:e},e))}),p.note?(0,n.jsx)("p",{className:"mt-3 rounded-xl border border-amber-300/35 bg-amber-500/10 px-3 py-2 text-xs text-amber-200",children:p.note}):null]}),(0,n.jsxs)("article",{className:"rounded-2xl border border-cyan-300/30 bg-cyan-500/10 p-4",children:[(0,n.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-cyan-200",children:"Source snippet"}),(0,n.jsx)("p",{className:"mt-2 text-xs leading-relaxed text-cyan-100",children:i.yA}),(0,n.jsx)("button",{type:"button",onClick:x,className:"mt-3 w-full rounded-lg border border-cyan-300/50 bg-slate-950/70 px-3 py-2 text-sm font-semibold text-cyan-100 transition hover:border-cyan-300","aria-label":"Copy source snippet",children:"Copy snippet"}),"copied"===m?(0,n.jsx)("p",{className:"mt-2 text-xs text-emerald-200",children:"Snippet copied."}):null,"unavailable"===m?(0,n.jsx)("p",{className:"mt-2 text-xs text-amber-200",children:"Clipboard not available."}):null,(0,n.jsxs)("div",{className:"mt-5 rounded-xl border border-dashed border-cyan-300/40 bg-slate-950/35 p-4 text-center",children:[(0,n.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-cyan-200",children:"Drag and drop simulator"}),(0,n.jsx)("p",{className:"mt-2 text-sm text-cyan-100",children:"Drop the snippet into OBS to auto-create browser source settings."})]})]})]}),(0,n.jsxs)("div",{className:"mt-5 flex flex-wrap gap-2",children:[(0,n.jsx)(r.default,{href:"/streamer",className:"streamer-ghost-btn rounded-lg px-4 py-2 text-sm font-semibold text-slate-100 transition hover:border-cyan-300/60",children:"Back to sponsorships"}),(0,n.jsx)(r.default,{href:"/streamer/workspace",className:"streamer-primary-btn rounded-lg px-4 py-2 text-sm font-semibold text-white transition",children:"Open campaign workspace"})]})]})]})}},9927:function(e,t,a){"use strict";a.d(t,{xA:function(){return c}});var n=a(374);let s="beta_streamer_flow_v1",r={providerConnected:!1,connectedProvider:null,setupCompleted:!1,overlayConnected:!1,joinedCampaignIds:[],selectedCampaignId:null,lastTestRunAt:null,overlayPlacementMode:"automatic",minimumCooldownMinutes:35,startDelayMinutes:20,overlayServiceEnabled:!0,darkModeEnabled:!0},i={...r,joinedCampaignIds:[]};function l(e){return{...e,joinedCampaignIds:[...e.joinedCampaignIds]}}function o(e){var t;if(!e||"object"!=typeof e)return l(r);let a=Array.from(new Set(Array.isArray(e.joinedCampaignIds)?e.joinedCampaignIds.filter(e=>"string"==typeof e):[]));return{providerConnected:!!e.providerConnected,connectedProvider:"twitch"===(t=e.connectedProvider)||"youtube"===t||"kick"===t?e.connectedProvider:null,setupCompleted:!!e.setupCompleted,overlayConnected:!!e.overlayConnected,joinedCampaignIds:a,selectedCampaignId:"string"==typeof e.selectedCampaignId?e.selectedCampaignId:null,lastTestRunAt:"string"==typeof e.lastTestRunAt?e.lastTestRunAt:null,overlayPlacementMode:"manual"===e.overlayPlacementMode?"manual":"automatic",minimumCooldownMinutes:"number"==typeof e.minimumCooldownMinutes&&Number.isFinite(e.minimumCooldownMinutes)?Math.min(60,Math.max(10,Math.round(e.minimumCooldownMinutes))):r.minimumCooldownMinutes,startDelayMinutes:"number"==typeof e.startDelayMinutes&&Number.isFinite(e.startDelayMinutes)?Math.min(60,Math.max(5,Math.round(e.startDelayMinutes))):r.startDelayMinutes,overlayServiceEnabled:"boolean"==typeof e.overlayServiceEnabled?e.overlayServiceEnabled:r.overlayServiceEnabled,darkModeEnabled:"boolean"==typeof e.darkModeEnabled?e.darkModeEnabled:r.darkModeEnabled}}function d(e){let t=o(e);i=l(t);try{window.localStorage.setItem(s,JSON.stringify(t))}catch(e){}}function c(){let[e,t]=(0,n.useState)(()=>(function(){try{let e=window.localStorage.getItem(s);if(!e)return l(i);let t=JSON.parse(e),a=o(t);return i=l(a),a}catch(e){return l(i)}})()),a=(0,n.useCallback)(e=>{t(t=>{let a=o("function"==typeof e?e(t):e);return d(a),a})},[]),c=(0,n.useCallback)(()=>{let e=l(r);d(e),t(e)},[]);return(0,n.useMemo)(()=>({state:e,setState:a,resetState:c}),[c,e,a])}},3639:function(e,t,a){"use strict";a.d(t,{default:function(){return s.a}});var n=a(3613),s=a.n(n)}},function(e){e.O(0,[613,94,405,371,560],function(){return e(e.s=5066)}),_N_E=e.O()}]);