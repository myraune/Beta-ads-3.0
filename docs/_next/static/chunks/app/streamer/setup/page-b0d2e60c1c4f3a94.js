(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[744],{3349:function(e,t,s){Promise.resolve().then(s.bind(s,8667))},8667:function(e,t,s){"use strict";s.d(t,{StreamerObsSetup:function(){return d}});var a=s(2657),n=s(374),r=s(3639),i=s(4094),l=s(9927);function d(){let{state:e,setState:t}=(0,l.xA)(),[s,d]=(0,n.useState)("drag-drop"),[c,o]=(0,n.useState)("idle"),[x,m]=(0,n.useState)("idle"),p=(0,n.useMemo)(()=>{var e;return null!==(e=i.$h.find(e=>e.id===s))&&void 0!==e?e:i.$h[0]},[s]),u=async()=>{if("undefined"==typeof navigator||!navigator.clipboard){m("unavailable");return}await navigator.clipboard.writeText(i.yA),m("copied")};return(0,a.jsxs)("main",{className:"space-y-6",children:[(0,a.jsx)("section",{className:"streamer-surface-card streamer-beta-grid rounded-3xl p-6 md:p-8",children:(0,a.jsxs)("div",{className:"grid gap-4 xl:grid-cols-[minmax(0,1fr)_340px]",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"streamer-surface-chip inline-flex rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em]",children:"Streaming code"}),(0,a.jsx)("h1",{className:"mt-3 font-[family-name:var(--font-heading)] text-5xl font-semibold tracking-tight text-ink",children:"OBS setup"}),(0,a.jsx)("p",{className:"mt-3 max-w-2xl text-base leading-relaxed text-ink/75",children:"Configure one browser source and keep it enabled across scenes. After setup, run the test animation to verify visibility."})]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[(0,a.jsxs)("article",{className:"streamer-outline-card rounded-2xl p-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:"Display test animation"}),(0,a.jsx)("p",{className:"mt-2 text-sm leading-relaxed text-slate-700",children:"Open OBS, then run the test animation and confirm it appears in every live scene."}),(0,a.jsx)("button",{type:"button",onClick:()=>{let e="idle"===c?"running":"running"===c?"visible":"idle";if(o(e),"visible"===e){t(e=>({...e,setupCompleted:!0,overlayConnected:!0,lastTestRunAt:new Date().toISOString()}));return}if("idle"===e){t(e=>({...e,overlayConnected:!1}));return}t(e=>({...e,overlayConnected:!1}))},className:"streamer-primary-btn mt-4 rounded-lg px-4 py-2 text-sm font-semibold text-white transition","aria-label":"Run test animation",disabled:!e.providerConnected,children:"Run test animation"}),(0,a.jsxs)("p",{className:"mt-2 text-xs font-semibold uppercase tracking-wide text-slate-500",children:["Status:"," ",(0,a.jsx)("span",{className:"text-slate-700","data-testid":"obs-test-status",children:c})]})]}),(0,a.jsxs)("article",{className:"streamer-outline-card rounded-2xl p-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:"Connection status"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-slate-700",children:"Link in streaming software:"}),(0,a.jsx)("span",{"data-testid":"obs-connection-status",className:"mt-2 inline-flex rounded-full px-2 py-1 text-xs font-semibold uppercase tracking-wide ".concat(e.overlayConnected?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"),children:e.overlayConnected?"active":"inactive"}),e.lastTestRunAt?(0,a.jsxs)("p",{className:"mt-2 text-xs text-slate-500",children:["Last test: ",new Date(e.lastTestRunAt).toLocaleString("en-US",{timeZone:"UTC"})," UTC"]}):null]})]})]})}),e.providerConnected?null:(0,a.jsxs)("div",{className:"rounded-2xl border border-amber-300 bg-amber-50 px-4 py-3 text-sm text-amber-800 shadow-sm",children:["Connect Twitch before running setup actions.",(0,a.jsx)(r.default,{href:"/streamer/login",className:"ml-2 font-semibold underline",children:"Go to login"})]}),(0,a.jsxs)("section",{className:"streamer-surface-card rounded-3xl p-6",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 border-b border-slate-200 pb-3",children:i.$h.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>d(e.id),className:"streamer-tab-btn rounded-lg px-3 py-2 text-sm font-semibold transition ".concat(e.id===s?"streamer-tab-btn-active":""),"data-testid":"setup-tab-".concat(e.id),children:e.label},e.id))}),(0,a.jsxs)("div",{className:"mt-5 grid gap-4 xl:grid-cols-[minmax(0,1fr)_340px]",children:[(0,a.jsxs)("article",{children:[(0,a.jsx)("h2",{className:"font-[family-name:var(--font-heading)] text-3xl font-semibold tracking-tight text-ink",children:p.title}),(0,a.jsx)("p",{className:"mt-2 text-sm leading-relaxed text-ink/75",children:p.intro}),(0,a.jsx)("ul",{className:"mt-4 space-y-2",children:p.steps.map(e=>(0,a.jsx)("li",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700",children:e},e))}),p.note?(0,a.jsx)("p",{className:"mt-3 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:p.note}):null]}),(0,a.jsxs)("article",{className:"rounded-2xl border border-cyan-200 bg-cyan-50 p-4",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-cyan-700",children:"Source snippet"}),(0,a.jsx)("p",{className:"mt-2 text-xs leading-relaxed text-cyan-900",children:i.yA}),(0,a.jsx)("button",{type:"button",onClick:u,className:"mt-3 w-full rounded-lg border border-cyan-300 bg-white px-3 py-2 text-sm font-semibold text-cyan-700 transition hover:border-cyan-400","aria-label":"Copy source snippet",children:"Copy snippet"}),"copied"===x?(0,a.jsx)("p",{className:"mt-2 text-xs text-emerald-700",children:"Snippet copied."}):null,"unavailable"===x?(0,a.jsx)("p",{className:"mt-2 text-xs text-amber-700",children:"Clipboard not available."}):null,(0,a.jsxs)("div",{className:"mt-5 rounded-xl border border-dashed border-cyan-300 bg-white/70 p-4 text-center",children:[(0,a.jsx)("p",{className:"text-xs uppercase tracking-[0.2em] text-cyan-700",children:"Drag and drop simulator"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-cyan-900",children:"Drop the snippet into OBS to auto-create browser source settings."})]})]})]}),(0,a.jsxs)("div",{className:"mt-5 flex flex-wrap gap-2",children:[(0,a.jsx)(r.default,{href:"/streamer",className:"streamer-ghost-btn rounded-lg px-4 py-2 text-sm font-semibold text-slate-700 transition hover:border-slate-400",children:"Back to sponsorships"}),(0,a.jsx)(r.default,{href:"/streamer/workspace",className:"streamer-primary-btn rounded-lg px-4 py-2 text-sm font-semibold text-white transition",children:"Open campaign workspace"})]})]})]})}}},function(e){e.O(0,[613,223,405,371,560],function(){return e(e.s=3349)}),_N_E=e.O()}]);